
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://cdr.pingidentity.com/">
      
      <link rel="icon" href="images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.6">
    
    
      
        <title>CDR Quick Start - Ping Identity CDR Sandbox</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.875de78c.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="mkdocs/overrides/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quick-start-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Ping Identity CDR Sandbox" class="md-header__button md-logo" aria-label="Ping Identity CDR Sandbox" data-md-component="logo">
      <!-- Logo -->

  


    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ping Identity CDR Sandbox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CDR Quick Start
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/pingidentity/pingidentity-cdr-sandbox" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pingidentity/pingidentity-cdr-sandbox
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="." class="md-tabs__link md-tabs__link--active">
        Introduction
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="howtos/howto_adminconsoles/" class="md-tabs__link">
        How Tos
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="release-notes/relnotes_CDR-1.6-core-001/" class="md-tabs__link">
        Release Notes
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="legal/license/" class="md-tabs__link">
        Legal
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Ping Identity CDR Sandbox" class="md-nav__button md-logo" aria-label="Ping Identity CDR Sandbox" data-md-component="logo">
      <!-- Logo -->

  


    </a>
    Ping Identity CDR Sandbox
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/pingidentity/pingidentity-cdr-sandbox" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pingidentity/pingidentity-cdr-sandbox
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      <label class="md-nav__link" for="__nav_1">
        Introduction
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          CDR Quick Start
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        CDR Quick Start
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    Step by Step Guide
  </a>
  
    <nav class="md-nav" aria-label="Step by Step Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-the-cdr-repository" class="md-nav__link">
    Clone the CDR Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-and-start-the-stack" class="md-nav__link">
    Configure and Start the Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-data-recipient-demonstration-application-data-out-for-data-holders" class="md-nav__link">
    Run the Data Recipient Demonstration Application - DATA OUT for Data Holders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-dr-client" class="md-nav__link">
    Running the DR Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-data-recipient-spa-application-data-in-for-data-holders" class="md-nav__link">
    Run the Data Recipient SPA Application - DATA IN for Data Holders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-spa-appliction" class="md-nav__link">
    Running the SPA Appliction
  </a>
  
    <nav class="md-nav" aria-label="Running the SPA Appliction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-account-data-with-existing-arrangement-id" class="md-nav__link">
    Accessing Account Data with Existing Arrangement ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shut-down-the-stack" class="md-nav__link">
    Shut Down the Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-considerations" class="md-nav__link">
    Other Considerations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-configuration-cdrenv" class="md-nav__link">
    Environment Configuration (cdr.env)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-server-configurations" class="md-nav__link">
    Saving Server Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="postman/" class="md-nav__link">
        Postman Setup
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        How Tos
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="How Tos" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          How Tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="howtos/howto_adminconsoles/" class="md-nav__link">
        Access Administration Consoles
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="howtos/howto_generatecerts/" class="md-nav__link">
        Generate MTLS Authentication Keys
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Release Notes
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Release Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.6-core-001/" class="md-nav__link">
        Current (CDR 1.6)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.5-core-001/" class="md-nav__link">
        CDR 1.5 (core 001))
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.4-core-003/" class="md-nav__link">
        CDR 1.4 (core 003)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.4-core-002/" class="md-nav__link">
        CDR 1.4 (core 002)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.4-core-001/" class="md-nav__link">
        CDR 1.4 (core 001)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.3.1-core-001/" class="md-nav__link">
        CDR 1.3.1 (core 001)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.2-core-003/" class="md-nav__link">
        CDR 1.2 (core 003)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/relnotes_CDR-1.2-core-002/" class="md-nav__link">
        CDR 1.2 (core 002)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Legal
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Legal" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Legal
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="legal/license/" class="md-nav__link">
        License
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="legal/disclaimer/" class="md-nav__link">
        Disclaimer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="legal/3rdPartySoftware/" class="md-nav__link">
        Third-Party Software
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="legal/contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-by-step-guide" class="md-nav__link">
    Step by Step Guide
  </a>
  
    <nav class="md-nav" aria-label="Step by Step Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clone-the-cdr-repository" class="md-nav__link">
    Clone the CDR Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure-and-start-the-stack" class="md-nav__link">
    Configure and Start the Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-data-recipient-demonstration-application-data-out-for-data-holders" class="md-nav__link">
    Run the Data Recipient Demonstration Application - DATA OUT for Data Holders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-dr-client" class="md-nav__link">
    Running the DR Client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-data-recipient-spa-application-data-in-for-data-holders" class="md-nav__link">
    Run the Data Recipient SPA Application - DATA IN for Data Holders
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-spa-appliction" class="md-nav__link">
    Running the SPA Appliction
  </a>
  
    <nav class="md-nav" aria-label="Running the SPA Appliction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#accessing-account-data-with-existing-arrangement-id" class="md-nav__link">
    Accessing Account Data with Existing Arrangement ID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shut-down-the-stack" class="md-nav__link">
    Shut Down the Stack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-considerations" class="md-nav__link">
    Other Considerations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-configuration-cdrenv" class="md-nav__link">
    Environment Configuration (cdr.env)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-server-configurations" class="md-nav__link">
    Saving Server Configurations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="quick-start-guide">Quick Start Guide<a class="headerlink" href="#quick-start-guide" title="Permanent link"> ¶</a></h1>
<p>The CDR Sandbox is an all-encompassing “black-box” environment created using Docker to deploy images in stable, network-enabled containers. The sandbox includes preconfigured Docker Compose YAML files for quick and easy deployment in a testing/lab scenario. For production deployments, a more comprehensive orchestration solution (eg. Kubernetes) is recommended.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link"> ¶</a></h2>
<ul>
<li>Root access to a Linux or MacOS machine with:<ul>
<li>Git</li>
<li>Docker</li>
<li>At least 12GB of RAM available to Docker</li>
</ul>
</li>
<li>A GitHub Account</li>
<li>An active Ping Identity support account <a href="https://www.pingidentity.com/en/account/register.html">(Link)</a></li>
<li>A working Ping Identity DevOps installation <a href="https://devops.pingidentity.com">(Link)</a></li>
</ul>
<h2 id="step-by-step-guide">Step by Step Guide<a class="headerlink" href="#step-by-step-guide" title="Permanent link"> ¶</a></h2>
<h3 id="clone-the-cdr-repository">Clone the CDR Repository<a class="headerlink" href="#clone-the-cdr-repository" title="Permanent link"> ¶</a></h3>
<p>While installing Ping Identity devops, you should have created a project folder in your home directory. We’re going to host the CDR sandbox here too:<br></p>
<div class="highlight"><pre><span></span><code>git clone <span class="se">\</span>
    https://github.com/pingidentity/pingidentity-cdr-sandbox.git <span class="se">\</span>
    ~/projects/cdr
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using ~/projects/cdr will make it easier to follow this guide. It will also make it easier for us to help you if you encounter issues.</p>
</div>
<h3 id="configure-and-start-the-stack">Configure and Start the Stack<a class="headerlink" href="#configure-and-start-the-stack" title="Permanent link"> ¶</a></h3>
<ol>
<li>
<p>Navigate to ~/projects/cdr/docker-compose and copy the cdr.env.template file to cdr.env</p>
<div class="highlight"><pre><span></span><code>cp <span class="se">\</span>
    ~/projects/cdr/docker-compose/cdr.env.template <span class="se">\</span>
    ~/projects/cdr/docker-compose/cdr.env
</code></pre></div>
</li>
<li>
<p>Add the following entries to the /etc/hosts file</p>
<div class="highlight"><pre><span></span><code><span class="m">127</span>.0.0.1 sso-admin.data-holder.local
<span class="m">127</span>.0.0.1 sso.data-holder.local
<span class="m">127</span>.0.0.1 api.data-holder.local
<span class="m">127</span>.0.0.1 dr.data-recipient.local
<span class="m">127</span>.0.0.1 mockregister.data-holder.local
<span class="m">127</span>.0.0.1 pd.data-holder.local
<span class="m">127</span>.0.0.1 consent.data-holder.local
<span class="m">127</span>.0.0.1 spa.data-recipient.local
</code></pre></div>
</li>
<li>
<p>Use docker-compose to bring the CDR Sandbox stack up:</p>
<div class="highlight"><pre><span></span><code>docker-compose <span class="se">\</span>
    -f <span class="se">\</span>
    ~/projects/cdr/docker-compose/docker-compose.yaml <span class="se">\</span>
    up -d
</code></pre></div>
</li>
<li>
<p>To display the server logs as the stack starts up, run the following command (ctrl-c to exit):</p>
<div class="highlight"><pre><span></span><code>docker-compose <span class="se">\</span>
    -f <span class="se">\</span>
    ~/projects/cdr/docker-compose/docker-compose.yaml <span class="se">\</span>
    logs -f
</code></pre></div>
</li>
<li>
<p>To display the status of each container, run one of the following commands:</p>
<div class="highlight"><pre><span></span><code>docker ps
</code></pre></div>
</li>
</ol>
<h3 id="run-the-data-recipient-demonstration-application-data-out-for-data-holders">Run the Data Recipient Demonstration Application - DATA OUT for Data Holders<a class="headerlink" href="#run-the-data-recipient-demonstration-application-data-out-for-data-holders" title="Permanent link"> ¶</a></h3>
<p>The Data Recipient Demonstration Application (DR Client) has been provided for the purposes of demonstrating the basic Consumer Journey as detailed in the <a href="https://consumerdatastandards.org.au/wp-content/uploads/2020/01/CX-Guidelines-v1.2.0-1.pdf">Consumer Standards Consumer Experience Guidelines</a>.</p>
<p>The DR Client is designed to demonstrate the Data Recipient and Data Holder interaction throughout a consent lifecycle; specifically it implements the Consent, Authenticate and Authorise stages of the Consumer Journey - The Consent Flow.</p>
<p><img alt="CDR Consent Flow" src="images/consent_flow.png" /></p>
<p>The DR Client implements the three main roles as defined in the Consumer Data Rights standard:</p>
<ol>
<li>The Data Holder - AnyBank</li>
<li>The Data Recipient - Account Link (ALink)</li>
<li>The Customer - Alice Stone</li>
</ol>
<p>The following steps will demonstrate how:</p>
<ul>
<li>To establish a consent with Alice’s bank: AnyBank</li>
<li>To use the ALink application to access transaction data</li>
<li>Alice can adjust and/or revoke her consent</li>
</ul>
<p>Throughout the content lifecycle Alice will be able to verify the consent is being enforced by refreshing the Alink application and confirming whether the balances for each shared transaction account are visible or not.</p>
<p>The DR Client is already running as a service if you followed the steps detailed above. To confirm that the service is running enter:</p>
<div class="highlight"><pre><span></span><code>docker ps -f <span class="s2">&quot;name=pingdirectory&quot;</span>
</code></pre></div>
<p>And verify that the value of STATUS is “healthy”</p>
<h3 id="running-the-dr-client">Running the DR Client<a class="headerlink" href="#running-the-dr-client" title="Permanent link"> ¶</a></h3>
<ol>
<li>
<p>Open your web browser and goto <a href="http://dr.data-recipient.local:8080/">http://dr.data-recipient.local:8080/</a></p>
<div class="admonition warning">
<p class="admonition-title">SSL Certificates</p>
<p>The sandbox includes a self-signed SSL certificate. You will need to accept the security warning to access the DR Client.</p>
</div>
</li>
<li>
<p>At the ALink Data Recipient login page provide the following:</p>
<ul>
<li>Username: astone</li>
<li>Password: password</li>
</ul>
</li>
<li>
<p>You should now be logged into ALink as the CDR Consumer “astone”</p>
</li>
<li>
<p>Select the My Banks button (top right corner)</p>
</li>
<li>
<p>From the drop down of Data Holders select “AnyBank” and click the Connect button</p>
</li>
<li>
<p>Validate the Consent request and click Start. You will now be redirected to AnyBank to Authenticate and Authorise the consent.</p>
</li>
<li>
<p>At the AnyBank Customer ID prompt enter in Alice’s bank identifier:</p>
<ul>
<li>Customer ID: crn1</li>
</ul>
</li>
<li>
<p>At the SMS OTP field provide the value:</p>
<ul>
<li>SMS OTP: 123456</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The sandbox includes a mock SMS provider that will accept the OTP value of “123456” for testing purposes.</p>
</div>
</li>
<li>
<p>AnyBank will present the Authorisation prompt. Review the authorisation and confirm that it matches the Consent requested by ALink.<br></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The right hand column is dynamic, being populated based upon scopes that are sent from the Data Recipient. For the brevity of the UI and demo the scopes are set to Basic Account Details and Transaction Details.</p>
</div>
</li>
<li>
<p>Select the 1st the Transaction Account to share transaction data with ALink</p>
</li>
<li>Click the Confirm button. Alison should be redirected back to ALink.</li>
<li>On the Alink page the consent should be shown. The consent can be revoked from here.</li>
<li>Click on the ALink logo to view the shared account balances.</li>
<li>Repeat steps 5 to 13 specifying additional transaction accounts in step 10 to update the consent</li>
<li>Note the extra Transaction Accounts and associated balances.</li>
<li>Select the My Banks button and click the Revoke Consent button. You will receive an alert stating that the Consent has been revoked.</li>
<li>
<p>To validate the revoked consent click on the ALink logo to view no more shared accounts.</p>
<p>The DR Client uses the following DR users and DH Customer Numbers. Any combination of Username and Customer Number can be used however only one at a time.</p>
<p><img alt="Accounts Table" src="images/account_table.png" /></p>
</li>
</ol>
<h3 id="run-the-data-recipient-spa-application-data-in-for-data-holders">Run the Data Recipient SPA Application - DATA IN for Data Holders<a class="headerlink" href="#run-the-data-recipient-spa-application-data-in-for-data-holders" title="Permanent link"> ¶</a></h3>
<p>The Data Recipient SPA Application (SPA Appliction) is designed to demonstrate the interaction between a DH acting as a DR to "consume" shared data from 3rd party Data Holders. It implements the CDR consent lifecycle allowing customer to consnet a DH to obtain data from anothet DH.</p>
<p>The SPA Appliction used 4 actors that implement the three main roles as defined in the Consumer Data Rights standard:</p>
<ol>
<li>The Data Holders - 3rd Party Data Holder and Any Bank</li>
<li>The Data Recipient - SPA Application (spa.data-recipient.local)</li>
<li>The Customer - 3rd Party Data Holder (CRN0), ANY Bank (CRN1)</li>
</ol>
<p>The following steps will demonstrate how:</p>
<ul>
<li>Access the 3rd Party Data Holder's DR application</li>
<li>Authenticate to the 3rd Party Data Holder</li>
<li>Initiate a sharing flow with Any Bank (Consent)</li>
<li>Authenticate and Authorise the Consent with Any Bank</li>
<li>Use the SPA Appliction to access transaction data</li>
</ul>
<p>The SPA Appliction is already running as a service if you followed the steps detailed above. To confirm that the service is running enter:</p>
<div class="highlight"><pre><span></span><code>docker ps -f <span class="s2">&quot;name=pingdirectory&quot;</span>
</code></pre></div>
<p>And verify that the value of STATUS is “healthy”</p>
<h3 id="running-the-spa-appliction">Running the SPA Appliction<a class="headerlink" href="#running-the-spa-appliction" title="Permanent link"> ¶</a></h3>
<ol>
<li>
<p>Open your web browser and goto <a href="https://spa.data-recipient.local/">https://spa.data-recipient.local/</a></p>
<div class="admonition warning">
<p class="admonition-title">SSL Certificates</p>
<p>The sandbox includes a self-signed SSL certificate. You will need to accept the security warning to access the SPA Appliction.</p>
</div>
</li>
<li>
<p>Select "Any Bank" from the drop down list and click Submit</p>
</li>
<li>You will be asked to authenticate as a customer of the 3rd Party Data Holder</li>
<li>
<ul>
<li>Username: bhope</li>
<li>Password: password</li>
</ul>
</li>
<li>You will now be redirected to AnyBank to Authenticate and Authorise the consent.</li>
<li>
<p>At the AnyBank Customer ID prompt enter in Alice’s bank identifier:</p>
<ul>
<li>Customer ID: crn0</li>
</ul>
</li>
<li>
<p>At the SMS OTP field provide the value:</p>
<ul>
<li>SMS OTP: 123456</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The sandbox includes a mock SMS provider that will accept the OTP value of “123456” for testing purposes.</p>
</div>
</li>
<li>
<p>AnyBank will present the Authorisation prompt. Review the authorisation.<br></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The right hand column is dynamic, being populated based upon scopes that are sent from the Data Recipient. For the brevity of the UI and demo the scopes are set to Basic Account Details and Transaction Details.</p>
</div>
</li>
<li>
<p>Select the 1st the Transaction Account to share transaction data with 3rd Party Data Holder</p>
</li>
<li>Click the Confirm button. You should be redirected back to SPA Appliction.</li>
<li>Click "Exchange Code for Token Response" to continue</li>
<li>Click "Get Accounts" to retrieve the consented accounts from Any Bank for Customer CRN1.</li>
</ol>
<h4 id="accessing-account-data-with-existing-arrangement-id">Accessing Account Data with Existing Arrangement ID<a class="headerlink" href="#accessing-account-data-with-existing-arrangement-id" title="Permanent link"> ¶</a></h4>
<ol>
<li>Click "Start Again"</li>
<li>Select "..." from the drop down list and click Submit</li>
<li>Click "Exchange Code for Token Response" to continue</li>
<li>Click "Get Accounts" to retrieve the consented accounts from Any Bank for Customer CRN1.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note<p>You should not be prompted to reconsent.</p>
</p>
</div>
<h3 id="shut-down-the-stack">Shut Down the Stack<a class="headerlink" href="#shut-down-the-stack" title="Permanent link"> ¶</a></h3>
<p>When you no longer want to run the CDR Reference Sandbox, you can either stop the running stack, or bring the stack down.</p>
<ul>
<li>
<p>To stop the running stack without removing any of the containers or associated Docker networks:</p>
<div class="highlight"><pre><span></span><code>docker-compose <span class="se">\</span>
    -f <span class="se">\</span>
    ~/projects/cdr/docker-compose/docker-compose.yaml <span class="se">\</span>
    stop
</code></pre></div>
</li>
<li>
<p>To remove all of the containers and associated Docker networks:</p>
<div class="highlight"><pre><span></span><code>docker-compose <span class="se">\</span>
    -f <span class="se">\</span>
    ~/projects/cdr/docker-compose/docker-compose.yaml <span class="se">\</span>
    down
</code></pre></div>
</li>
<li>
<p>To completely remove the CDR Reference images and configuration:</p>
<div class="highlight"><pre><span></span><code>docker system prune --force
docker image prune --all --force
rm -rf ~/projects/cdr
</code></pre></div>
</li>
</ul>
<h3 id="other-considerations">Other Considerations<a class="headerlink" href="#other-considerations" title="Permanent link"> ¶</a></h3>
<h3 id="environment-configuration-cdrenv">Environment Configuration (cdr.env)<a class="headerlink" href="#environment-configuration-cdrenv" title="Permanent link"> ¶</a></h3>
<p>The CDR Sandbox configuration is driven by the parameters defined within the <strong>cdr.env</strong> file that is located in the ~/projects/cdr/docker-compose directory. Some of these parameters can be adjusted to support your environment.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You will need to restart the sandbox for these changes to apply.</p>
</div>
<ul>
<li>SERVER_PROFILE_BRANCH<ul>
<li>Default Value: [version of the CDR Sandbox to run. e.g. cdr-1.2-core-001]</li>
<li>The SERVER_PROFILE_BRANCH value represents the version of the CDR Sandbox to download and execute.</li>
</ul>
</li>
<li>BASE_HOSTNAME<ul>
<li>Default Value: data-holder.local</li>
<li>The BASE_HOSTNAME value represents the base DNS name used to access the Data Holder's web services and applications. You will need to ensure hosts files or DNS are updated to reflect the appropriate IP addresses for the containers once the sandbox is running if you change this value.</li>
</ul>
</li>
<li>BRAND1_BGCOLOR<ul>
<li>Default Value: rgb(50, 115, 220)</li>
</ul>
</li>
<li>BRAND2_BGCOLOR<ul>
<li>Default Value: #373C41</li>
</ul>
</li>
<li>PF_BASE_PORT<ul>
<li>Default Value: 443</li>
<li>The PF_BASE_PORT value defines the listening port of PingFederate.</li>
</ul>
</li>
<li>BASE_URL<ul>
<li>Default Value: http://dr.data-recipient.local:8080</li>
<li>The BASE_URL value is the URL used to access the sample Data Recipient application. You will need to ensure hosts files or DNS are updated to reflect the appropriate IP addresses for the containers once the sandbox is running if you change this value.</li>
</ul>
</li>
<li>DR_CLIENT-authorization_endpoint<ul>
<li>Default Value: https://sso.data-holder.local/as/authorization.oauth2</li>
<li>The DR_CLIENT-authorization_endpoint value represents the OAUTH2 compliant end point that is required by the CDR Security profile to obtain a valid data sharing token. The end point is hosted by PingAccess to enforce MTLS as well as provide for the ability to capture the value of the minted refresh token. You will need to ensure hosts files or DNS are updated to reflect the appropriate IP addresses for the containers once the sandbox is running if you change this value.</li>
<li>You will need to update this value if you update BASE_HOSTNAME.</li>
</ul>
</li>
<li>DR_CLIENT-ss_redirect_uri<ul>
<li>Default Value: http://dr.data-recipient.local:8080/*<br></li>
<li>The DR_CLIENT-ss_redirect_uri value is the authorised value that the sample Data Recipient sets up during its Dynamic Client Registration process. This value is stored against the OAUTH Client within PingFederate. You will need to ensure hosts files or DNS are updated to reflect the appropriate IP addresses for the containers once the sandbox is running if you change this value.</li>
<li>You will need to update this value if you update BASE_URL.</li>
</ul>
</li>
</ul>
<h3 id="saving-server-configurations">Saving Server Configurations<a class="headerlink" href="#saving-server-configurations" title="Permanent link"> ¶</a></h3>
<p>For your initial deployment of the sandbox, we recommend you make no changes to the docker-compose.yaml file to ensure you have a successful first-time deployment. Any configuration changes you make will not be saved when you bring down the stack. For subsequent deployments, see <a href="https://devops.pingidentity.com/how-to/saveConfigs/">Saving your configuration changes</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
      
        <a href="postman/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Postman Setup
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            © Copyright 2021 Ping Identity
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tabs", "instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.34eae1b6.min.js"></script>
      
    
  </body>
</html>